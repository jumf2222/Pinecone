<div style="display: flex; flex-direction: row; justify-content: space-evenly;">
  <div class="col1">
    <app-course-list></app-course-list>
  </div>
  <div style="width: 70%;">
    <div style="display: flex;">
      <form style="width: 400px;">
        <mat-form-field appearance="fill" class="gradient-underline" style="max-width: 400px; width: 100%;">
          <input type="text" placeholder="ex. ANT100" matInput [formControl]="form" [matAutocomplete]="auto" />
          <mat-label>Search Courses</mat-label>

          <mat-autocomplete #auto="matAutocomplete" autoActiveFirstOption [displayWith]="displayFn"
            (optionSelected)="selectCourse($event.option.value)">
            <cdk-virtual-scroll-viewport class="autocomplete-test-viewport" [ngStyle]="{ height: height }" itemSize="48"
              minBufferPx="200" maxBufferPx="250">
              <mat-option *cdkVirtualFor="let option of filteredCourses" [value]="option" class="autocomplete-item">
                {{ displayFn(option) }}
              </mat-option>
            </cdk-virtual-scroll-viewport>
          </mat-autocomplete>

          <!-- <div class="example-viewport" *ngIf="butFocused || focused">
            <div *uiScroll="let option of datasource">
              <button
                mat-flat-button
                style="
                  padding: 5px;
                  width: 100%;
                  font-size: 20px;
                  height: 30px;
                "
                (click)="timetableService.selectCourse(option)"
                (focus)="butFocused = true"
                (focusout)="butFocused = false"
              >
                {{ option.code }}
              </button>
            </div>
          </div> -->

          <!-- <mat-autocomplete #auto="matAutocomplete">
            <mat-option *ngFor="let option of filteredOptions" [value]="option">
              {{ option }}
            </mat-option> -->
          <!-- </mat-autocomplete>  -->
        </mat-form-field>
      </form>
      <h1 style="flex: 1; padding-top: 20px; font-family: 'Pinecone';">
        {{ scheduleData.schedule.name }}
      </h1>

      <button mat-flat-button color="primary" class="but" (click)="this.timetableService.createSchedule()">
        Optimize
      </button>

      <button mat-flat-button class="but" color="warn">
        Save
      </button>
    </div>

    <div style="display: flex; justify-content: space-around;">
      <div class="table-wrap">
        <div style="border-radius: 3px 3px 0px 0px;">
          <table>
            <thead>
              <tr>
                <th></th>
                <th *ngFor="let day of DAYS">{{ day }}</th>
              </tr>
            </thead>
            <tbody>
              <ng-container *ngFor="let row of slotData; let time = index">
                <tr *ngIf="time >= start && time < end">
                  <td>{{ formatTime(time) }}</td>
                  <td [ngStyle]="data.style" *ngFor="let data of row; let col = index" (click)="clickSlot(time, col)">
                    <div class="text-wrapper">
                      <p *ngFor="let text of data.texts; let ind = index">
                        {{ text }}
                        <mat-icon *ngIf="data.conflicts && ind % 6 == 1" style="
                            position: absolute;
                            right: 0px;
                            top: 0px;
                            font-size: 30px;
                            width: 30px;
                            height: 30px !important;
                          ">
                          warning
                        </mat-icon>
                      </p>
                    </div>
                  </td>
                </tr>
              </ng-container>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>